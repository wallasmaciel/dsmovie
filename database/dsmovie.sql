--
-- PostgreSQL database dump
--

-- Dumped from database version 14.2
-- Dumped by pg_dump version 14.2

-- Started on 2022-03-19 21:27:54

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 210 (class 1259 OID 16396)
-- Name: tb_movie; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tb_movie (
    id bigint NOT NULL,
    count integer,
    image character varying(255),
    score double precision,
    title character varying(255)
);


ALTER TABLE public.tb_movie OWNER TO postgres;

--
-- TOC entry 209 (class 1259 OID 16395)
-- Name: tb_movie_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.tb_movie ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tb_movie_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 211 (class 1259 OID 16403)
-- Name: tb_score; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tb_score (
    value double precision,
    movie_id bigint NOT NULL,
    user_id bigint NOT NULL
);


ALTER TABLE public.tb_score OWNER TO postgres;

--
-- TOC entry 213 (class 1259 OID 16409)
-- Name: tb_user; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tb_user (
    id bigint NOT NULL,
    email character varying(255)
);


ALTER TABLE public.tb_user OWNER TO postgres;

--
-- TOC entry 212 (class 1259 OID 16408)
-- Name: tb_user_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.tb_user ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tb_user_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 3321 (class 0 OID 16396)
-- Dependencies: 210
-- Data for Name: tb_movie; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.tb_movie (id, count, image, score, title) FROM stdin;
2	3	https://www.themoviedb.org/t/p/w533_and_h300_bestv2/vIgyYkXkg6NC2whRbYjBD7eb3Er.jpg	3.3	Venom: Tempo de Carnificina
4	0	https://www.themoviedb.org/t/p/w533_and_h300_bestv2/hv7o3VgfsairBoQFAawgaQ4cR1m.jpg	0	Matrix Resurrections
5	0	https://www.themoviedb.org/t/p/w533_and_h300_bestv2/cinER0ESG0eJ49kXlExM0MEWGxW.jpg	0	Shang-Chi e a Lenda dos Dez Anéis
6	0	https://www.themoviedb.org/t/p/w533_and_h300_bestv2/2oZklIzUbvZXXzIFzv7Hi68d6xf.jpg	0	Django Livre
7	0	https://www.themoviedb.org/t/p/w533_and_h300_bestv2/yDI6D5ZQh67YU4r2ms8qcSbAviZ.jpg	0	Titanic
8	0	https://www.themoviedb.org/t/p/w533_and_h300_bestv2/cWUOv3H7YFwvKeaQhoAQTLLpo9Z.jpg	0	O Lobo de Wall Street
9	0	https://www.themoviedb.org/t/p/w533_and_h300_bestv2/jiqD14fg7UTZOT6qgvzTmfRYpWI.jpg	0	Aves de Rapina: Arlequina e sua Emancipação Fantabulosa
10	0	https://www.themoviedb.org/t/p/w533_and_h300_bestv2/6t8ES1d12OzWyCGxBeDYLHoaDrT.jpg	0	Rogue One: Uma História Star Wars
11	0	https://www.themoviedb.org/t/p/w533_and_h300_bestv2/uK15I3sGd8AudO9z6J6vi0HH1UU.jpg	0	Star Wars: A Guerra dos Clones
12	0	https://www.themoviedb.org/t/p/w533_and_h300_bestv2/36LnijfQCOC89rCMOhn2OINXROI.jpg	0	Star Wars: Episódio I - A Ameaça Fantasma
13	0	https://www.themoviedb.org/t/p/w533_and_h300_bestv2/7RyHsO4yDXtBv1zUU3mTpHeQ0d5.jpg	0	Vingadores: Ultimato
14	0	https://www.themoviedb.org/t/p/w533_and_h300_bestv2/cDJ61O1STtbWNBwefuqVrRe3d7l.jpg	0	Thor
15	0	https://www.themoviedb.org/t/p/w533_and_h300_bestv2/hqh5O4KssfJWI62HGAgrjHXbxhD.jpg	0	Cisne Negro
16	0	https://www.themoviedb.org/t/p/w533_and_h300_bestv2/mfwq2nMBzArzQ7Y9RKE8SKeeTkg.jpg	0	O Silêncio dos Inocentes
17	0	https://www.themoviedb.org/t/p/w533_and_h300_bestv2/hZkgoQYus5vegHoetLkCJzb17zJ.jpg	0	Clube da Luta
18	0	https://www.themoviedb.org/t/p/w533_and_h300_bestv2/31VpBgUX5O4Z3dn5ZbX8HLqoXH3.jpg	0	Guerra Mundial Z
19	0	https://www.themoviedb.org/t/p/w533_and_h300_bestv2/vcrgU0KaNj5mKUCIQSUdiQwTE9y.jpg	0	Harry Potter e as Relíquias da Morte - Parte 1
20	0	https://www.themoviedb.org/t/p/w533_and_h300_bestv2/lvOLivVeX3DVVcwfVkxKf0R22D8.jpg	0	Harry Potter e a Pedra Filosofal
21	0	https://www.themoviedb.org/t/p/w533_and_h300_bestv2/qNdlZgz9yoSJ8f0YxQWfKGPoVV.jpg	0	Alice no País das Maravilhas
22	0	https://www.themoviedb.org/t/p/w533_and_h300_bestv2/8Qsr8pvDL3s1jNZQ4HK1d1Xlvnh.jpg	0	Animais Fantásticos e Onde Habitam
23	0	https://www.themoviedb.org/t/p/w533_and_h300_bestv2/kq2MHrRfH6RTfkvyDEmYLmGHE6U.jpg	0	A Teoria de Tudo
24	0	https://www.themoviedb.org/t/p/w533_and_h300_bestv2/sjx6zjQI2dLGtEL0HGWsnq6UyLU.jpg	0	O Livro de Boba Fett
25	0	https://www.themoviedb.org/t/p/w533_and_h300_bestv2/4LrL40XecjGLRpX5I2gzMTUt04l.jpg	0	O Último Duelo
26	0	https://www.themoviedb.org/t/p/w533_and_h300_bestv2/rAiYTfKGqDCRIIqo664sY9XZIvQ.jpg	0	Interestelar
27	0	https://www.themoviedb.org/t/p/w533_and_h300_bestv2/yFkUPqBuUnbhYbQL8VFpTrAT9za.jpg	0	Contato
28	0	https://www.themoviedb.org/t/p/w533_and_h300_bestv2/jYEW5xZkZk2WTrdbMGAPFuBqbDc.jpg	0	Duna
29	0	https://www.themoviedb.org/t/p/w533_and_h300_bestv2/2cUsDz4TzFYHrKktT1bKHHQ7Cgm.jpg	0	Aquaman
1	3	https://www.themoviedb.org/t/p/w533_and_h300_bestv2/jBJWaqoSCiARWtfV0GlqHrcdidd.jpg	4.666666666666667	The Witcher
3	2	https://www.themoviedb.org/t/p/w533_and_h300_bestv2/u7SeO6Y42P7VCTWLhpnL96cyOqd.jpg	4.5	O Espetacular Homem-Aranha 2: A Ameaça de Electro
\.


--
-- TOC entry 3322 (class 0 OID 16403)
-- Dependencies: 211
-- Data for Name: tb_score; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.tb_score (value, movie_id, user_id) FROM stdin;
5	1	1
4	1	2
3	2	1
3	2	2
4	2	3
5	1	6
4	3	6
5	3	3
\.


--
-- TOC entry 3324 (class 0 OID 16409)
-- Dependencies: 213
-- Data for Name: tb_user; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.tb_user (id, email) FROM stdin;
1	maria@gmail.com
2	joao@gmail.com
3	ana@gmail.com
4	lucia@gmail.com
5	joaquim@gmail.com
6	rodrigo@gmail.com
\.


--
-- TOC entry 3330 (class 0 OID 0)
-- Dependencies: 209
-- Name: tb_movie_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.tb_movie_id_seq', 29, true);


--
-- TOC entry 3331 (class 0 OID 0)
-- Dependencies: 212
-- Name: tb_user_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.tb_user_id_seq', 6, true);


--
-- TOC entry 3174 (class 2606 OID 16402)
-- Name: tb_movie tb_movie_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tb_movie
    ADD CONSTRAINT tb_movie_pkey PRIMARY KEY (id);


--
-- TOC entry 3176 (class 2606 OID 16407)
-- Name: tb_score tb_score_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tb_score
    ADD CONSTRAINT tb_score_pkey PRIMARY KEY (movie_id, user_id);


--
-- TOC entry 3178 (class 2606 OID 16413)
-- Name: tb_user tb_user_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tb_user
    ADD CONSTRAINT tb_user_pkey PRIMARY KEY (id);


--
-- TOC entry 3179 (class 2606 OID 16414)
-- Name: tb_score fk23yhb6qop0f6hnb72hcorm3cv; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tb_score
    ADD CONSTRAINT fk23yhb6qop0f6hnb72hcorm3cv FOREIGN KEY (movie_id) REFERENCES public.tb_movie(id);


--
-- TOC entry 3180 (class 2606 OID 16419)
-- Name: tb_score fkl8lgmbrjoav0thqqtqx6vrr4k; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tb_score
    ADD CONSTRAINT fkl8lgmbrjoav0thqqtqx6vrr4k FOREIGN KEY (user_id) REFERENCES public.tb_user(id);


-- Completed on 2022-03-19 21:27:55

--
-- PostgreSQL database dump complete
--

